# MiPay 卡面替换工具

**本应用为作者首次尝试学习安卓开发而写，可能存在各种bug。**

**由于涉及Root权限，请在充分进行代码审查后，再决定是否编译、安装和使用。**

**仅供学习交流使用，请于24小时内删除！**


本工具仅适用于小米系系统中，“小米智能卡” (`com.miui.tsmclient`) 应用刷卡界面卡面的替换，对“钱包”中的卡面预览同样有效。

建议您在首次使用前，清除“小米智能卡” (`com.miui.tsmclient`) 应用的**缓存**后，打开一次刷卡页，以清除过期缓存并重新生成，便于您分辨意向替换的卡面。

### 使用方式

软件默认仅展示尺寸 960x606 的公交卡卡面与 1280x807 的银行卡卡面，可在设置中手动设置展示所有尺寸的图片。如有其他尺寸的卡面需要默认展示，请自行修改源码。

点击卡面图片即可看到对这张卡面的替换、换源（如有备份）和导出操作。在替换时，软件会创建卡面备份，您也可以通过清除“小米智能卡” (`com.miui.tsmclient`) 应用的缓存以还原所有卡面。

保险起见，软件仅允许替换相同尺寸的卡面。如您有此需求，可在卡面缓存文件夹中手动替换。

点击卡面的名字即可将卡面文件名复制至剪切板。

### 注

卡面缓存位于 `/data/data/com.mipay.wallet/cache/image_manager_disk_cache` 文件夹中，如您需要尝试用不同尺寸、格式的图片替换卡面，可在此文件夹中手动操作。
